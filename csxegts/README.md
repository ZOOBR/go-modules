[Главная](../README.md "Перейти на главную страницу описания модулей") / модуль *csxegts*

---

# csxegts

*csxegts* - модуль, предоставляющий возможность отправки телематических данных по протоколу *ЕГТС*.

---

## Параметры протокола ЕГТС, определенные в модуле

### Временные и количественные параметры

| Наименование в протоколе | Наименование в модуле | Значение | Описание |
|:---:|:---:|:---:|:---|
| `TL_RESPONSE_TO` | `TlResponseTo` | `5` | Время ожидания подтверждения пакета на транспортном уровне (в секундах) |
| `TL_RESEND_ATTEMPTS` | `TlResendAttempts` | `3` | Число повторных попыток отправки неподтвержденного пакета |
| `TL_RECONNECT_TO` | `TlReconnectTo` | `30` | Время, через которое произойдет повторная попытка установления канала связи после его разрыва (в секундах) |

---

## Параметры, не определенные в протоколе, но используемые в нём

### Общие параметры
Наименование в модуле | Значение | Описание |
|:---:|:---:|:---|
| `egtsHeaderProtocolVersion` | `0x01` | Версия используемой структуры заголовка пакета |
| `egtsHeaderPrefix` | `"00"` | Префикс заголовка пакета |
| `EgtsHeaderLength` | `10` | Длина заголовка пакета (в байтах) |

---

### Приоритет маршрутизации пакета
Наименование в модуле | Значение | Описание |
|:---:|:---:|:---|
| `PacketPriorityHighest` | `"00"` | Наивысший приоритет |
| `PacketPriorityHigh` | `"01"` | Высокий приоритет |
| `PacketPriorityNormal` | `"10"` | Средний уровень приоритетности |
| `PacketPriorityLow` | `"11"` | Низкий приоритет |

---

### Расположение сервиса-отправителя
Наименование в модуле | Значение | Описание |
|:---:|:---:|:---|
| `SsodTerminal` | `"1"` | Сервис-отправитель расположен на стороне абонента |
| `SsodPlatform` | `"0"` | Сервис-отправитель расположен на телематической платформе |

---

### Расположение сервиса-получателя
Наименование в модуле | Значение | Описание |
|:---:|:---:|:---|
| `RsodTerminal` | `"1"` | Сервис-получатель расположен на стороне абонента |
| `RsodPlatform` | `"0"` | Сервис-получатель расположен на телематической платформе |

---

### Приоритет обработки записи сервисом
Наименование в модуле | Значение | Описание |
|:---:|:---:|:---|
| `RpPriorityHighest` | `"000"` | Наивысший приоритет |
| `RpPriorityHigh` | `"001"` | Высокий приоритет |
| `RpPriorityAboveNormal` | `"010"` | Приоритет выше среднего |
| `RpPriorityNormal` | `"011"` | Средний уровень приоритетности |
| `RpPriorityBelowNormal` | `"100"` | Приоритет ниже среднего |
| `RpPriorityLow` | `"101"` | Низкий приоритет |
| `RpPriorityLowest` | `"110"` | Низший приоритет |
| `RpPriorityIdle` | `"111"` | "Простой". Самый низкий приоритет |

---

### Источники посылок координатных данных
Наименование в модуле | Значение | Описание |
|:---:|:---:|:---|
| `SrcTimerEnabledIgnition` | `0` | Таймер при включенном зажигании |
| `SrcDriveDistance` | `1` | Пробег заданной дистанции |
| `SrcExceedRotationAngel` | `2` | Превышение установленного значения угла поворота |
| `SrcResponse` | `3` | Ответ на запрос |
| `SrcChangeXState` | `4` | Изменение состояния входа X |
| `SrcTimerDisabledIgnition` | `5` | Таймер при выключенном зажигании |
| `SrcPeripheralEquipOff` | `6` | Отключение периферийного оборудования |
| `SrcExceedSpeed` | `7` | Превышение одного из заданных порогов скорости |
| `SrcRestart` | `8` | Перезагрузка центрального процессора |
| `SrcOverloadY` | `9` | Перегрузка по выходу Y |
| `SrcIntrusionSensorOn` | `10` | Сработал датчик вскрытия корпуса прибора |
| `SrcBackupPowerOn` | `11` | Переход на резервное питание/отключение внешнего питания |
| `SrcLowBackupPowerVoltage` | `12` | Снижение напряжения источника резервного питания ниже порогового значения |
| `SrcAlertBtnPressed` | `13` | Нажата "тревожная кнопка" |
| `SrcOperatorVoiceRequest ` | `14` | Запрос на установление голосовой связи с оператором |
| `SrcEmergencyCall` | `15` | Эстренный вызов |
| `SrcExternalServiceData` | `16` | Появление данных от внешнего сервиса |
| `SrcBackupBatteryFailure` | `19` | Неисправность резервного аккумулятора |
| `SrcHardAcceleration` | `20` | Резкий разгон |
| `SrcHardBraking` | `21` | Резкое торможение |
| `SrcNavigationModuleFailure` | `22` | Отключение или неисправность навигационного модуля |
| `SrcAccidentSensorFailure` | `23` | Отключение или неисправность датчика автоматической идентификации события ДТП |
| `SrcGSMAntennaFailure` | `24` | Отключение или неисправность антенны GSM/UMTS |
| `SrcNavigationAntennaFailure` | `25` | Отключение или неисправность антенны навигационной системы |
| `SrcReduceSpeed` | `27` | Снижение скорости ниже одного из заданных порогов |
| `SrcDisabledIgnitioMove` | `28` | Перемещение при выключенном зажигании |
| `SrcTimerEmergencyTracking` | `29` | Таймер в режиме "экстренное слежение" |
| `SrcBeginEndNavigation` | `30` | Начало/окончание навигации |
| `SrcUnstableNavigation` | `31` | "Нестабильная навигация" (превышение порога частоты прерывания режима навигации при включенном зажигании или режиме экстренного слежения) |
| `SrcIPConnection` | `32` | Установка IP соединения |
| `SrcUnstableMobileNet` | `33` | Нестабильная регистрация в сети подвижной радиотелефонной связи |
| `SrcUnstableCommunication` | `34` | "Нестабильная связь" (превышение порога частоты прерывания/восстановления IP соединения при включенном зажигании или режиме экстренного слежения) |
| `SrcModeChanging` | `35` | Изменение режима работы |

---

### Тип определения координат
Наименование в модуле | Значение | Описание |
|:---:|:---:|:---|
| `Fix2D` | `"0"` | Fix 2D |
| `Fix3D` | `"1"` | Fix 3D |

---

### Тип координатной системы
Наименование в модуле | Значение | Описание |
|:---:|:---:|:---|
| `CsWGS84` | `"0"` | Система координат WGS-84 |
| `CsEarthParams9002` | `"1"` | Государственная геоцентрическая система координат (ПЗ-90.02) |

---

## Ссылки
* [Краткое описание работы с протоколом ЕГТС](https://www.swe-notes.ru/post/protocol-egts/)
* [ГОСТ Р 54619-2011 Глобальная навигационная спутниковая система](https://docs.cntd.ru/document/1200095098)
* [Приказ Минтранса РФ от 31 июля 2012 г. № 285 "Об утверждении требований к средствам навигации, функционирующим с использованием навигационных сигналов системы ГЛОНАСС или ГЛОНАСС/GPS и предназначенным для обязательного оснащения транспортных средств категории М, используемых для коммерческих перевозок пассажиров, и категории N, используемых для перевозки опасных грузов"](https://www.swe-notes.ru/post/protocol-egts/)
* [Библиотека для работы с протоколом ЕГТС](https://github.com/kuznetsovin/egts-protocol)
* [Пример заимодействия по протоколу ЕГТС](https://github.com/LdDl/go-egts/blob/eb669ecd335318f10dbae95e3c58cd0022b8be0b/docs_rus/egts.txt)